{"version":3,"file":"static/webpack/static/development/pages/index.js.9ddd64b474dbe546d137.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { withRouter } from 'next/router'\nimport Head from 'next/head';\nimport Typed from 'react-typed';\nimport Link from 'next/link';\nimport AOS from 'aos';\nimport Parallax from 'parallax-js';\nimport { createClient }  from 'contentful';\nimport * as Language from '../defaults/Language';\nimport Layout from '../components/layout/main';\nimport HeadlinePost from '../components/posts/HeadlinePost';\nimport { CONTENTFUL_SPACE_ID, CONTENTFUL_ACCESS_TOKEN } from '../defaults/ContentfulKeys';\nimport LANGUAGES, { DEFAULT_LANGUAGE } from '../defaults/Languages';\n\nconst Index = ({ router }) => {\n\n  const [initialized, setInitialized] = useState(false);\n  const [latestPosts, setLatestPosts] = useState([]);\n  const [stateLocale, setStateLocale] = useState(router.query.locale || DEFAULT_LANGUAGE);\n\n  let setLocaleFn;\n\n  useEffect(() => {\n    AOS.init();\n\n    if(!router.query.locale) {\n\n      const locale = (\n        LANGUAGES.includes(window.navigator.language)\n        ? window.navigator.language\n        : DEFAULT_LANGUAGE\n      );\n\n      setLocaleFn(locale);\n      setStateLocale(locale);\n    }\n  }, []);\n\n  useEffect(() => {\n    var scene = document.getElementById('scene');\n    var parallaxInstance = new Parallax(scene);\n\n    const client = createClient({\n      space: CONTENTFUL_SPACE_ID,\n      accessToken: CONTENTFUL_ACCESS_TOKEN\n    });\n\n    client.getEntries({\n      content_type: 'blogPost',\n      limit: 3,\n      order: '-sys.createdAt',\n      locale: stateLocale,\n    })\n    .then(function(response) {\n      setLatestPosts(response.items);\n    });\n\n    document.documentElement.setAttribute(\n      'lang',\n      stateLocale\n    );\n\n  }, [Parallax, stateLocale]);\n\n  let showingLatestPosts = latestPosts;\n\n  return (\n    <Language.Consumer>\n      {({ locale, translation, setLocale }) => {\n\n        setLocaleFn = setLocale;\n\n        return (\n          <Layout>\n            <Head>\n              <title>Murillo de Morais - {translation.index.title}</title>\n              <meta name=\"description\" content={translation.index.description} />\n              <meta name=\"og:description\" content={translation.index.description} />\n            </Head>\n            <div className=\"hero\">\n              <div className=\"hero__texts\">\n                <Typed\n                  strings={translation.index.typedStrings}\n                  style={{\n                    color: '#092545',\n                    fontFamily: 'stolzl, sans-serif',\n                    fontWeight: 700,\n                    fontStyle: 'normal',\n                    fontSize: '33px',\n                    marginLeft: '10px',\n                  }}\n                  typeSpeed={100}\n                />\n                <h1>Murillo de Morais</h1>\n              </div>\n              <div id=\"scene\">\n                <div data-depth=\"0.2\">\n                  <img\n                    alt={`${translation.index.developerImageAlt} 1}`}\n                    src=\"https://s3.amazonaws.com/murillo.dev/site/hero-img-1.png\" />\n                </div>\n                <div data-depth=\"0.5\">\n                  <img\n                    alt={`${translation.index.developerImageAlt} 2}`}\n                    src=\"https://s3.amazonaws.com/murillo.dev/site/hero-img-2.png\" />\n                </div>\n                <div data-depth=\"0.9\">\n                  <img\n                    alt={`${translation.index.developerImageAlt} 3}`}\n                    src=\"https://s3.amazonaws.com/murillo.dev/site/hero-img-3.png\" />\n                </div>\n              </div>\n            </div>\n            <div className=\"latest-posts\">\n              <h2 data-aos=\"fade-up\">{translation.index.latest}<br/>{translation.index.posts}</h2>\n              <ul>\n                {\n                  showingLatestPosts.splice(0, 2)\n                    .filter(post => (\n                      post.fields.heroImage.fields.file &&\n                      post.fields.heroImage.fields.file.url &&\n                      post.fields.heroImage.fields.file.url.length\n                    ))\n                    .map(post => (\n                      <HeadlinePost\n                        key={post.sys.id}\n                        description={post.fields.description}\n                        imageUrl={post.fields.heroImage.fields.file.url}\n                        slug={post.fields.slug}\n                        tags={post.fields.tags}\n                        title={post.fields.title}\n                        />\n                    ))\n                }\n                <div className=\"latest-posts__show-more\" data-aos=\"fade-up\">\n                  <h3>{translation.index.showMoreTitle}</h3>\n                  <span>{translation.index.showMoreText}</span>\n                  <Link\n                    href={(\n                      router.query.locale\n                      ? 'blog'\n                      : `${locale || DEFAULT_LANGUAGE}/blog`\n                    )}>\n                    <button>{translation.index.viewBlog}</button>\n                  </Link>\n                </div>\n                {\n                  showingLatestPosts\n                    .filter(post => (\n                      post.fields.heroImage.fields.file &&\n                      post.fields.heroImage.fields.file.url &&\n                      post.fields.heroImage.fields.file.url.length\n                    ))\n                    .map(post => (\n                      <HeadlinePost\n                        key={post.sys.id}\n                        description={post.fields.description}\n                        imageUrl={post.fields.heroImage.fields.file.url}\n                        router={router}\n                        slug={post.fields.slug}\n                        tags={post.fields.tags}\n                        title={post.fields.title}\n                        />\n                    ))\n                }\n              </ul>\n            </div>\n            <style jsx>{`\n              h1,\n              h2,\n              h3 {\n                font-family: stolzl, sans-serif;\n                font-weight: 700;\n                font-style: normal;\n              }\n\n              h1 {\n                margin: 20px 0 0 0;\n                font-size: 120px;\n                text-align: right;\n                line-height: 115px;\n                background-image: linear-gradient(to bottom, #4CB8C4, #3CD3AD);\n                color: transparent;\n                -webkit-background-clip: text;\n              }\n\n              h2 {\n                font-size: 28px;\n                margin: 0 0 10px 10px;\n              }\n\n              .latest-posts h2 {\n                font-size: 60px;\n                line-height: 50px;\n                height: 130px;\n                margin: 10px;\n                text-align: right;\n                padding: 0 40px 0 calc(40px + 15%);\n                display: inline-flex;\n                background-image: linear-gradient(to bottom,#4CB8C4,#3CD3AD);\n                color: transparent;\n                -webkit-background-clip: text;\n                align-items: center;\n              }\n\n              .latest-posts ul {\n                display: flex;\n                flex-wrap: wrap;\n                justify-content: space-around;\n                padding: 30px 15%;\n              }\n\n              .latest-posts__show-more {\n                color: rgba(0,0,0,.84);\n                width: calc(30vw - 40px);\n                height: calc(35vw - 40px);\n                margin: 20px;\n                padding: 20px;\n              }\n\n              .latest-posts__show-more h3 {\n                font-size: 22px;\n                margin: 0 0 5px 0;\n              }\n\n              .latest-posts__show-more * {\n                font-family: stolzl,sans-serif;\n              }\n\n              .latest-posts__show-more button {\n                background: #2d6ae3;\n                padding: 10px 40px 10px 20px;\n                font-size: 18px;\n                color: #ffffff;\n                display: block;\n                margin: 20px 0 0 0;\n                border-radius: 5px;\n                transition: .3s all ease;\n                cursor: pointer;\n              }\n\n              .latest-posts__show-more button:hover {\n                transform: scale(1.15);\n                box-shadow: 5px 5px 20px rgba(0,0,0,.3);\n              }\n\n              .latest-posts__show-more button:focus,\n              .latest-posts__show-more button:active {\n                outline: none;\n              }\n\n              .hero {\n                height: calc(100vh - 75px);\n                display: flex;\n                justify-content: space-around;\n                align-items: center;\n                padding: 0 50px;\n              }\n\n              .hero__texts {\n                width: 600px;\n              }\n\n              #scene {\n                text-align: center;\n                position: absolute;\n                z-index: -1;\n                opacity: .15;\n                margin-top: -20vh;\n              }\n\n              #scene img {\n                width: 70%;\n              }\n\n              @media screen and (max-width: 640px) {\n\n                .hero {\n                  padding: 0;\n                }\n\n                h1 {\n                  font-size: 18vw;\n                  line-height: 18vw;\n                }\n\n              }\n\n              @media screen and (max-width: 900px) {\n\n                .latest-posts ul {\n                  margin-top: -20px;\n                  padding: 20px;\n                }\n\n                .latest-posts__show-more {\n                  width: 100%;\n                  height: initial;\n                  margin: 20px;\n                  padding: 0;\n                  order: 1;\n                }\n\n              }\n            `}</style>\n          </Layout>\n        )\n      }}\n    </Language.Consumer>\n  );\n};\n\nexport default withRouter(Index);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAKA;AAEA;AACA;AACA;AACA;AAEA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AAEA;AAKA;AAEA;AAEA;AAEA;AAAA;AAAA;AAEA;AAEA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AAVA;AAYA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAIA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAIA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAMA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAGA;AAAA;AAKA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AADA;AAWA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AADA;AAMA;AAAA;AAKA;AAAA;AAKA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AADA;AAhFA;AAAA;AA0OA;AAGA;AACA;AACA;;;;A","sourceRoot":""}